!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():t.anime=n()}(this,function(){var t,n={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},e="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),r={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||r.svg(t)},num:function(t){return!isNaN(parseInt(t))},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return"undefined"==typeof t},nul:function(t){return"null"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return r.hex(t)||r.rgb(t)||r.hsl(t)}},a=function(){var t={},n={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,n){if(0===t||1===t)return t;var e=1-Math.min(n,998)/1e3,r=t/1-1;return-(Math.pow(2,10*r)*Math.sin(2*(r-e/(2*Math.PI)*Math.asin(1))*Math.PI/e))},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var n,e=4;t<((n=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*n-2)/22-t,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,e){n[t]=function(t){return Math.pow(t,e+2)}}),Object.keys(n).forEach(function(e){var r=n[e];t["easeIn"+e]=r,t["easeOut"+e]=function(t,n){return 1-r(1-t,n)},t["easeInOut"+e]=function(t,n){return.5>t?r(2*t,n)/2:1-r(-2*t+2,n)/2},t["easeOutIn"+e]=function(t,n){return.5>t?(1-r(1-2*t,n))/2:(r(2*t-1,n)+1)/2}}),t.linear=function(t){return t},t}(),o=function(t){return r.str(t)?t:t+""},u=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},i=function(t){if(r.col(t))return!1;try{return document.querySelectorAll(t)}catch(n){return!1}},s=function(t){return t.reduce(function(t,n){return t.concat(r.arr(n)?s(n):n)},[])},c=function(t){return r.arr(t)?t:(r.str(t)&&(t=i(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},f=function(t,n){return t.some(function(t){return t===n})},l=function(t,n){var e={};return t.forEach(function(t){var r=JSON.stringify(n.map(function(n){return t[n]}));e[r]=e[r]||[],e[r].push(t)}),Object.keys(e).map(function(t){return e[t]})},d=function(t){return t.filter(function(t,n,e){return e.indexOf(t)===n})},p=function(t){var n,e={};for(n in t)e[n]=t[n];return e},m=function(t,n){for(var e in n)t[e]=r.und(t[e])?n[e]:t[e];return t},h=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,n,e,r){return n+n+e+e+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(n[1],16);var e=parseInt(n[2],16),n=parseInt(n[3],16);return"rgb("+t+","+e+","+n+")"},g=function(t){t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t);var n=parseInt(t[1])/360,e=parseInt(t[2])/100,r=parseInt(t[3])/100;if(t=function(t,n,e){return 0>e&&(e+=1),1<e&&--e,e<1/6?t+6*(n-t)*e:.5>e?n:e<2/3?t+(n-t)*(2/3-e)*6:t},0==e)e=r=n=r;else var a=.5>r?r*(1+e):r+e-r*e,o=2*r-a,e=t(o,a,n+1/3),r=t(o,a,n),n=t(o,a,n-1/3);return"rgb("+255*e+","+255*r+","+255*n+")"},v=function(t){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},y=function(t,n,e){return v(n)?n:-1<t.indexOf("translate")?v(e)?n+v(e):n+"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?n+"deg":n},b=function(t,n){if(n in t.style)return getComputedStyle(t).getPropertyValue(u(n))||"0"},x=function(t,n){var e=-1<n.indexOf("scale")?1:0,r=t.style.transform;if(!r)return e;for(var a=/(\w+)\((.+?)\)/g,o=[],u=[],i=[];o=a.exec(r);)u.push(o[1]),i.push(o[2]);return r=i.filter(function(t,e){return u[e]===n}),r.length?r[0]:e},w=function(t,n){return r.dom(t)&&f(e,n)?"transform":r.dom(t)&&(t.getAttribute(n)||r.svg(t)&&t[n])?"attribute":r.dom(t)&&"transform"!==n&&b(t,n)?"css":r.nul(t[n])||r.und(t[n])?void 0:"object"},M=function(t,n){switch(w(t,n)){case"transform":return x(t,n);case"css":return b(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0},O=function(t,n,e){return r.col(n)?n=r.rgb(n)?n:r.hex(n)?h(n):r.hsl(n)?g(n):void 0:v(n)?n:(t=v(v(t.to)?t.to:t.from),!t&&e&&(t=v(e)),t?n+t:n)},k=function(t){var n=/-?\d*\.?\d+/g;return{original:t,numbers:o(t).match(n)?o(t).match(n).map(Number):[0],strings:o(t).split(n)}},E=function(t,n,e){return n.reduce(function(n,r,a){return r=r?r:e[a-1],n+t[a-1]+r})},I=function(t){return t=t?s(r.arr(t)?t.map(c):c(t)):[],t.map(function(t,n){return{target:t,id:n}})},A=function(t,n,e,r){return"transform"===e?(e=t+"("+y(t,n.from,n.to)+")",n=t+"("+y(t,n.to)+")"):(t="css"===e?b(r,t):void 0,e=O(n,n.from,t),n=O(n,n.to,t)),{from:k(e),to:k(n)}},j=function(t,n){var e=[];return t.forEach(function(a,o){var u=a.target;return n.forEach(function(n){var i=w(u,n.name);if(i){var s;s=n.name;var f=n.value,f=c(r.fnc(f)?f(u,o):f);s={from:1<f.length?f[0]:M(u,s),to:1<f.length?f[1]:f[0]},f=p(n),f.animatables=a,f.type=i,f.from=A(n.name,s,f.type,u).from,f.to=A(n.name,s,f.type,u).to,f.round=r.col(s.from)||f.round?1:0,f.delay=(r.fnc(f.delay)?f.delay(u,o,t.length):f.delay)/Q.speed,f.duration=(r.fnc(f.duration)?f.duration(u,o,t.length):f.duration)/Q.speed,e.push(f)}})}),e},P=function(t,n){var e=j(t,n);return l(e,["name","from","to","delay","duration"]).map(function(t){var n=p(t[0]);return n.animatables=t.map(function(t){return t.animatables}),n.totalDuration=n.delay+n.duration,n})},C=function(t,n){t.tweens.forEach(function(e){var r=e.from,a=t.duration-(e.delay+e.duration);e.from=e.to,e.to=r,n&&(e.delay=a)}),t.reversed=!t.reversed},S=function(t){if(t.length)return Math.max.apply(Math,t.map(function(t){return t.totalDuration}))},T=function(t){var n=[],e=[];return t.tweens.forEach(function(t){"css"!==t.type&&"transform"!==t.type||(n.push("css"===t.type?u(t.name):"transform"),t.animatables.forEach(function(t){e.push(t.target)}))}),{properties:d(n).join(", "),elements:d(e)}},$=function(t){var n=T(t);n.elements.forEach(function(t){t.style.willChange=n.properties})},L=function(t){T(t).elements.forEach(function(t){t.style.removeProperty("will-change")})},N=function(t,n){var e=t.path,r=t.value*n,a=function(a){return a=a||0,e.getPointAtLength(1<n?t.value+a:r+a)},o=a(),u=a(-1),a=a(1);switch(t.name){case"translateX":return o.x;case"translateY":return o.y;case"rotate":return 180*Math.atan2(a.y-u.y,a.x-u.x)/Math.PI}},V=function(t,n){var e=Math.min(Math.max(n-t.delay,0),t.duration)/t.duration,r=t.to.numbers.map(function(n,r){var o=t.from.numbers[r],u=a[t.easing](e,t.elasticity),o=t.path?N(t,u):o+u*(n-o);return o=t.round?Math.round(o*t.round)/t.round:o});return E(r,t.to.strings,t.from.strings)},X=function(n,e){var r;n.currentTime=e,n.progress=e/n.duration*100;for(var a=0;a<n.tweens.length;a++){var o=n.tweens[a];o.currentValue=V(o,e);for(var u=o.currentValue,i=0;i<o.animatables.length;i++){var s=o.animatables[i],c=s.id,s=s.target,f=o.name;switch(o.type){case"css":s.style[f]=u;break;case"attribute":s.setAttribute(f,u);break;case"object":s[f]=u;break;case"transform":r||(r={}),r[c]||(r[c]=[]),r[c].push(u)}}}if(r)for(a in t||(t=(b(document.body,"transform")?"":"-webkit-")+"transform"),r)n.animatables[a].target.style[t]=r[a].join(" ");n.settings.update&&n.settings.update(n)},Y=function(t){var e={};e.animatables=I(t.targets),e.settings=m(t,n);var a,o=e.settings,u=[];for(a in t)if(!n.hasOwnProperty(a)&&"targets"!==a){var i=r.obj(t[a])?p(t[a]):{value:t[a]};i.name=a,u.push(m(i,o))}return e.properties=u,e.tweens=P(e.animatables,e.properties),e.duration=S(e.tweens)||t.duration,e.currentTime=0,e.progress=0,e.ended=!1,e},F=[],Z=0,q=function(){var t=function(){Z=requestAnimationFrame(n)},n=function(n){if(F.length){for(var e=0;e<F.length;e++)F[e].tick(n);t()}else cancelAnimationFrame(Z),Z=0};return t}(),Q=function(t){var n=Y(t),e={};return n.tick=function(t){n.ended=!1,e.start||(e.start=t),e.current=Math.min(Math.max(e.last+t-e.start,0),n.duration),X(n,e.current);var a=n.settings;a.begin&&e.current>=a.delay&&(a.begin(n),a.begin=void 0),e.current>=n.duration&&(a.loop?(e.start=t,"alternate"===a.direction&&C(n,!0),r.num(a.loop)&&a.loop--):(n.ended=!0,n.pause(),a.complete&&a.complete(n)),e.last=0)},n.seek=function(t){X(n,t/100*n.duration)},n.pause=function(){L(n);var t=F.indexOf(n);-1<t&&F.splice(t,1)},n.play=function(t){n.pause(),t&&(n=m(Y(m(t,n.settings)),n)),e.start=0,e.last=n.ended?0:n.currentTime,t=n.settings,"reverse"===t.direction&&C(n),"alternate"!==t.direction||t.loop||(t.loop=1),$(n),F.push(n),Z||q()},n.restart=function(){n.reversed&&C(n),n.pause(),n.seek(0),n.play()},n.settings.autoplay&&n.play(),n};return Q.version="1.1.1",Q.speed=1,Q.list=F,Q.remove=function(t){t=s(r.arr(t)?t.map(c):c(t));for(var n=F.length-1;0<=n;n--)for(var e=F[n],a=e.tweens,o=a.length-1;0<=o;o--)for(var u=a[o].animatables,i=u.length-1;0<=i;i--)f(t,u[i].target)&&(u.splice(i,1),u.length||a.splice(o,1),a.length||e.pause())},Q.easings=a,Q.getValue=M,Q.path=function(t){return t=r.str(t)?i(t)[0]:t,{path:t,value:t.getTotalLength()}},Q.random=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},Q});